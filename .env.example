# Google API Configuration

## Setup Instructions

### 1. Create Google Cloud Project
1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Create a new project or select existing one
3. Enable APIs:
   - Google Analytics Reporting API
   - Google Search Console API

### 2. Create OAuth2 Credentials
1. Go to APIs & Services > Credentials
2. Create OAuth2 Client ID credentials
3. Download JSON file and save as `credentials.json`

### 3. Required Environment Variables

```
# Google OAuth2 Configuration
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# Google Analytics Universal Analytics (可选)
GOOGLE_ANALYTICS_VIEW_ID=Your_9_digit_view_ID

# Google Analytics 4 (可选)
# Find this in: GA4 > Admin > Data Streams > Web > Measurement ID
GOOGLE_ANALYTICS_MEASUREMENT_ID=G-XXXXXXXXXX

# Google Search Console (必需，如果使用Google集成)
GOOGLE_SEARCH_CONSOLE_URL=https://your-website.com/

# AI API Configuration
# Choose one of the following AI providers:

# Option 1: Anthropic Claude API
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_key_here

# Option 2: Silicon Flow API (硅基流动)
# Get your API key from: https://siliconflow.cn/
# If SILICONFLOW_API_KEY is set, it will be used instead of Anthropic
SILICONFLOW_API_KEY=your_siliconflow_api_key_here
# Optional: Specify model (default: Qwen/Qwen2.5-VL-72B-Instruct)
SILICONFLOW_MODEL=Qwen/Qwen2.5-VL-72B-Instruct
```

### 4. First Run Authorization
When first running the application, you'll be redirected to Google to authorize access.
The token will be saved as `token.json` for future use.

## API Endpoints

### Google Analytics
- **View ID**: Found in Google Analytics Admin > View Settings
- **Metrics Available**: sessions, pageviews, users, bounceRate, avgSessionDuration
- **Dimensions Available**: pagePath, source, medium, deviceCategory

### Search Console  
- **Site URL**: Must match exactly as registered in Search Console
- **Dimensions**: query, page, country, device
- **Metrics**: clicks, impressions, ctr, position